(this.webpackJsonpstorymaker=this.webpackJsonpstorymaker||[]).push([[0],{14:function(n,t,e){},15:function(n,t,e){},18:function(n,t,e){"use strict";e.r(t);var a,o=e(0),c=e.n(o),s=e(8),r=e.n(s),i=(e(14),e(15),e(2)),h=e(1),d=function(n){return Object(h.jsx)("p",{children:n.text})},u=e(3);!function(n){n[n.DESTROY_THE_BUSINESS=0]="DESTROY_THE_BUSINESS",n[n.ENTER_THE_CONTEST=1]="ENTER_THE_CONTEST",n[n.SAVE_THE_BUSINESS=2]="SAVE_THE_BUSINESS"}(a||(a={}));var l=function(n){return n.replace(/^\w/,(function(n){return n.toUpperCase()}))},m=function(n){return n.plot===a.SAVE_THE_BUSINESS?{inciting_incident:"to save the local ".concat(n.shop)}:n.plot===a.DESTROY_THE_BUSINESS?{inciting_incident:"to demolish the local ".concat(n.shop)}:{inciting_incident:"to enter the ".concat(n.shop,"'s annual ").concat(n.contest)}},p=function(n){return n.plot===a.SAVE_THE_BUSINESS?{second_interaction:["Because ".concat(n.leadA.pronoun1," heard the ").concat(n.shop," was going out of business,"),"and wanted to see if ".concat(n.leadA.pronoun1," could help save it,"),"because ".concat(n.leadA.pronoun1," always used to love it as a child")],start_drive:["".concat(n.leadA.name," returns to ").concat(n.city,","),"to speak to ".concat(n.leadA.pronoun3," boss at the ").concat(n.leadA.industry," firm.")],continue_drive:["Initially ".concat(n.leadA.name," manages to convince the boss of the charms of ").concat(n.town," and it's ").concat(n.shop,"."),"But they refuse to give the money needed to save it"],low_point:["".concat(n.leadA.name," quits on the spot, and returns to ").concat(n.town," empty handed.")]}:n.plot===a.DESTROY_THE_BUSINESS?{second_interaction:["Because ".concat(n.leadA.pronoun3," ").concat(n.leadA.industry," company is considering buying out the ").concat(n.shop," when it goes under,"),"and turn it into ".concat(n.luxury),"and ".concat(n.leadA.pronoun1," is here to see if it's a good investment.")],start_drive:["".concat(n.leadA.name," returns to ").concat(n.city,","),"to speak to ".concat(n.leadA.pronoun3," boss at the ").concat(n.leadA.industry," firm.")],continue_drive:["".concat(n.leadA.name," tries to convince the boss that buying the ").concat(n.town," ").concat(n.shop," would be a bad investment."),"The boss disagrees, and says they will demolish the ".concat(n.shop," next week")],low_point:["".concat(n.leadA.name," quits on the spot, and returns to ").concat(n.town," empty handed.")]}:{second_interaction:["".concat(l(n.leadA.pronoun1)," wants to enter the ").concat(n.shop,"'s ").concat(n.contest,","),"because it reminds ".concat(n.leadA.pronoun2," of ").concat(n.leadA.pronoun3," childhood."),"".concat(n.leadB.name," explains that there won't be a ").concat(n.contest,", because the ").concat(n.shop," can't afford to put it on,"),"and anyway, people just don't care about Christmas like they used to."],start_drive:["".concat(n.leadA.name," convinces ").concat(n.leadB.name," they can raise the funds they need,"),"by having a special Christmas-themed sale at the ".concat(n.shop,","),"which will raise enough to save the business and hold the ".concat(n.contest," once again.")],continue_drive:["The people of ".concat(n.town," come together to raise the money,"),"united by the spirit of Christmas, everyone is preparing for the ".concat(n.contest,".")],low_point:["But the grumpy local cop, ".concat(n.cop,", shuts it down for not having the right permits.")]}},f=function(n){return n.plot===a.SAVE_THE_BUSINESS?{setup:"put on a talent show to save the ".concat(n.shop,","),final_push:["Everyone from ".concat(n.town," attends the magical night,"),"where the townspeople show off their quirky talents.","Even the grumpy local cop, ".concat(n.cop,", who plays the piano."),"At the end of the night, ".concat(n.leadB.name," and ").concat(n.leadA.name," have saved enough money to keep the ").concat(n.shop," in business.")]}:n.plot===a.DESTROY_THE_BUSINESS?{setup:"protect the ".concat(n.shop,","),final_push:["As the bulldozers arrive,","".concat(n.leadB.name,", ").concat(n.leadA.name," and the people of ").concat(n.town," sing Christmas carols outside the ").concat(n.shop,","),"Even the grumpy local cop, ".concat(n.cop,"."),"".concat(n.leadA.name,"'s boss from the ").concat(n.leadA.industry," company jumps down from one of the bulldozers smoking a cigar."),"Overwhelmed by the spirit of Christmas in the town,","the demolition is called off,","and they agree to give ".concat(n.leadB.name," and ").concat(n.leadA.name," the money they need to keep the ").concat(n.shop," in business.")]}:{setup:"hold the ".concat(n.contest," anyway,"),final_push:["The ".concat(n.contest," goes ahead, and everyone in ").concat(n.town," attends."),"Just as they are getting started, ".concat(n.cop," and the other cops show up to call it off."),"However, when they see the Christmas spirit of the whole town,","they decide to let it go ahead anyway.","".concat(n.leadA.name," wins the contest,"),"but more importantly everyone has fun."]}},b=function(n){return["- Act I -","Meet ".concat(n.leadA.name,". ").concat(l(n.leadA.pronoun1),"'s a high-flyer in the ").concat(n.leadA.industry," industry in ").concat(n.city,"."),"".concat(l(n.leadA.pronoun1)," works really long hours to make the big bucks, and so has no time for a relationship."),"This year, in early December, ".concat(n.leadA.pronoun1," needs to return to ").concat(n.leadA.pronoun3," small home-town of ").concat(n.town,","),"".concat(m(n).inciting_incident,"."),"...","".concat(n.leadB.name," never left ").concat(n.town,","),"after ".concat(n.leadB.pronoun1," inherited the ").concat(n.shop," from ").concat(n.leadB.pronoun3," parents, who tragically died ").concat(n.accident,"."),"Christmas has always been special for ".concat(n.leadB.name,", because it reminds ").concat(n.leadB.pronoun2," of them."),"The ".concat(n.shop," is not doing well financially,"),"".concat(n.leadB.name," explains this to ").concat(n.leadB.pronoun3," only employee, ").concat(n.oldHelper,", an old friend of ").concat(n.leadB.pronoun3," parents."),"...","".concat(n.leadA.name," arrives back in ").concat(n.town," and is instantly shocked at how friendly everyone is compared to ").concat(n.city,"."),"In ".concat(n.leadA.pronoun3," first night in town, ").concat(n.meetCute),"They get in a big argument, exchange insults, and ".concat(n.leadB.name," calls ").concat(n.leadA.name," rude."),"...","- Act II -","The following morning, ".concat(n.leadA.name," arrives at the ").concat(n.shop," and ").concat(n.leadB.name," is surprised and angry."),"".concat(n.leadA.name," explains why ").concat(n.leadA.pronoun1," is here:")].concat(Object(u.a)(p(n).second_interaction),["...","That evening, despite being low on funds, ".concat(n.leadB.name," ").concat(n.heartWarmer," at the ").concat(n.shop,"."),"Everyone in ".concat(n.town," attends, including ").concat(n.leadA.name,", and the place is filled with Christmas spirit."),"..."],Object(u.a)(p(n).start_drive),["..."],Object(u.a)(p(n).continue_drive),["..."],Object(u.a)(p(n).low_point),["...","- Act III -","".concat(n.oldHelper," convinces ").concat(n.leadB.name," and ").concat(n.leadA.name," that they should ").concat(f(n).setup),"it's what ".concat(n.leadB.pronoun3," parents would have wanted."),"..."],Object(u.a)(f(n).final_push),["...","".concat(n.leadB.name," and ").concat(n.leadA.name," realise they are in love."),"They kiss.","- THE END -"])},y=e(7),w=e.n(y),g=e(9),j=function(n,t){var e=["".concat(n.name," accidentally kicks ").concat(t.name,"'s dog."),"".concat(n.name," takes taxi that ").concat(t.name," had hailed."),"".concat(n.name," bumps into ").concat(t.name," as ").concat(n.pronoun1," enters the coffee shop while on ").concat(n.pronoun3," phone."),"".concat(n.name," steals ").concat(t.name,"'s parking spot."),"".concat(n.name," spills hot chocolate all over ").concat(t.name,"."),"".concat(n.name," drops ").concat(n.pronoun3," wallet and they both bend down to pick it up, clashing heads."),"".concat(n.name," opens ").concat(n.pronoun3," car door without looking at it smacks into ").concat(t.name," as ").concat(t.pronoun1," cycle past."),"".concat(n.name," takes ").concat(t.name,"'s seat on the train."),"".concat(n.name," ignores ").concat(t.name,"'s plea to hold the lift door open."),"".concat(n.name," kicks football into ").concat(t.name,"'s head while playing five-a-side."),"As ".concat(t.name," is jogging in the park, ").concat(n.name," sprints past ").concat(t.pronoun2," too close causing ").concat(t.name," to fall into the pond."),"".concat(n.name," bumps ").concat(n.pronoun3," shopping trolley into ").concat(t.name,"'s."),"".concat(n.name," pushes ahead of ").concat(t.name," in the supermarket queue."),"".concat(n.name," orders before ").concat(t.name," at the bar."),"".concat(n.name," chooses the tree ").concat(t.name," was about to go for at the tree farm."),"".concat(n.name," catches ").concat(t.name,"'s scarf in the door by shutting it too quick."),"".concat(n.name," slips on icy pavement, knocking over ").concat(t.name,"."),"".concat(n.name," pays more than the sticker price for the last toy at a toyshop, leaving ").concat(t.name," empty handed."),"".concat(n.name," changes the song in the diner, it was ").concat(t.name,"'s favourite."),"".concat(n.name," won't let ").concat(t.name," jump the toilet queue even though ").concat(t.pronoun1,"'s desperate to go."),"".concat(n.name," won't give money to a busker even though ").concat(n.pronoun1," clearly have loads and the busker is ").concat(t.name,"'s friend."),"".concat(n.name," won't take a flyer from ").concat(t.name," and just walks right past ").concat(t.pronoun2,"."),"".concat(n.name," hits ").concat(t.name," with a newspaper as they try to swat a fly."),"".concat(n.name," writes ").concat(n.pronoun3," name with pee in the snow on ").concat(t.name,"'s drive."),"".concat(n.name," throws a snowball which hits ").concat(t.name," in the face."),"".concat(n.name," buys all the mince pies in the shop just as ").concat(t.name," arrives to buy some."),"".concat(n.name," knocks over ").concat(t.name,"'s snowman with ").concat(n.pronoun3," car."),"".concat(n.name," and ").concat(t.name," both go for the last can of cranberry sauce on the supermarket shelf."),"".concat(n.name," crashes ").concat(n.pronoun3," shopping trolley into ").concat(t.name,"'s."),"".concat(n.name," puts ").concat(n.pronoun3," hand out to hail a cab and accidentally punches ").concat(t.name," in the face."),"".concat(n.name," kneels to tie ").concat(n.pronoun3," shoe and ").concat(t.name," trips over them."),"".concat(n.name," almost runs ").concat(t.name," over because ").concat(n.pronoun1," was looking at ").concat(n.pronoun3," phone."),"".concat(n.name," gets the last pastry in the bakery, which ").concat(t.name," was looking forward to all day."),"".concat(n.name," hits a baseball through ").concat(t.name,"'s window."),"".concat(n.name," picks up ").concat(t.name,"'s phone from the coffee shop table by mistake."),"".concat(n.name," takes a shortcut and tramples through ").concat(t.name,"'s flower bed."),"".concat(n.name," picks up ").concat(t.name,"'s tab when ").concat(t.name," can't afford to pay for a drink."),"".concat(n.name," makes fun of ").concat(t.name,"'s badly decorated tree."),"".concat(n.name," loses control of ").concat(n.pronoun3," scooter and crashes into ").concat(t.name,"'s car."),"".concat(n.name," crashes into ").concat(t.name," while trying to do an ice-skating trick."),"".concat(t.name," accidentally drops ").concat(t.pronoun3," shopping bag in the road and ").concat(n.name," runs over it.")];return e[Math.floor(Math.random()*e.length)]},v=function(n){return n[Math.floor(Math.random()*n.length)]},k=function(){var n=Object(o.useState)(null),t=Object(i.a)(n,2),e=t[0],a=t[1],c=Object(o.useState)(""),s=Object(i.a)(c,2),r=s[0],h=s[1],d=Object(o.useState)(),u=Object(i.a)(d,2),l=u[0],m=u[1],p=Object(o.useState)(),f=Object(i.a)(p,2),b=f[0],y=f[1],k=Object(o.useState)(""),O=Object(i.a)(k,2),E=O[0],S=O[1],A=Object(o.useState)(""),_=Object(i.a)(A,2),T=_[0],B=_[1],x=Object(o.useState)(""),I=Object(i.a)(x,2),N=I[0],H=I[1],C=Object(o.useState)(""),U=Object(i.a)(C,2),D=U[0],M=U[1],R=Object(o.useState)(""),q=Object(i.a)(R,2),V=q[0],Y=q[1],J=Object(o.useState)(""),z=Object(i.a)(J,2),W=z[0],F=z[1],G=Object(o.useState)(""),K=Object(i.a)(G,2),L=K[0],P=K[1],Q=Object(o.useState)(""),X=Object(i.a)(Q,2),Z=X[0],$=X[1],nn=function(){var n=Object(g.a)(w.a.mark((function n(t){var e,a;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(t);case 2:return e=n.sent,n.next=5,e.json();case 5:return a=n.sent,n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();Object(o.useEffect)((function(){tn()}),[]),Object(o.useEffect)((function(){r&&en()}),[r]),Object(o.useEffect)((function(){l&&b&&an()}),[l,b]),Object(o.useEffect)((function(){N&&on()}),[N]),Object(o.useEffect)((function(){D&&cn()}),[D]),Object(o.useEffect)((function(){E&&sn()}),[E]),Object(o.useEffect)((function(){T&&rn()}),[T]),Object(o.useEffect)((function(){V&&hn()}),[V]),Object(o.useEffect)((function(){W&&dn()}),[W]),Object(o.useEffect)((function(){L&&un()}),[L]),Object(o.useEffect)((function(){if(l&&b&&T&&E&&r&&V&&L&&Z){var n={leadA:l,leadB:b,town:T,city:E,contest:r,oldHelper:V,cop:W,shop:N,luxury:D,accident:L,heartWarmer:Z,meetCute:j(l,b),plot:v([0,1,2])};a(n)}}),[Z]);var tn=function(){var n=1===v([1,2]);nn("".concat("/storymaker","/data/").concat(n?"food":"objects",".json")).then((function(t){var e=v(t.words).word,a=v(n?["eating","cooking"]:["making","throwing","sculpting"]);h("".concat(e," ").concat(a," contest"))}))},en=function(){var n=1===v([1,2]);nn("".concat("/storymaker","/data/").concat(n?"m":"f","-names.json")).then((function(t){nn("".concat("/storymaker","/data/industries.json")).then((function(e){var a={name:v(t.names).name,pronoun1:n?"he":"she",pronoun2:n?"him":"her",pronoun3:n?"his":"her",industry:v(e.words).word};m(a),nn("".concat("/storymaker","/data/").concat(n?"f":"m","-names.json")).then((function(t){var e={name:v(t.names).name,pronoun1:n?"she":"he",pronoun2:n?"her":"him",pronoun3:n?"her":"his"};y(e)}))}))}))},an=function(){nn("".concat("/storymaker","/data/objects.json")).then((function(n){var t=v(n.words).word;H("".concat(t," shop"))}))},on=function(){nn("".concat("/storymaker","/data/luxury.json")).then((function(n){var t=v(n.words).word;M("".concat(t))}))},cn=function(){nn("".concat("/storymaker","/data/cities.json")).then((function(n){var t=v(n.cities);S(t.city)}))},sn=function(){nn("".concat("/storymaker","/data/towns.json")).then((function(n){var t=v(n.towns);B(t.town)}))},rn=function(){var n=0===v([0,1]);nn("".concat("/storymaker","/data/").concat(n?"m":"f","-names.json")).then((function(n){Y(v(n.names).name)}))},hn=function(){var n=0===v([0,1]);nn("".concat("/storymaker","/data/").concat(n?"m":"f","-names.json")).then((function(n){F(v(n.names).name)}))},dn=function(){nn("".concat("/storymaker","/data/transport.json")).then((function(n){var t=v(n.words).word;P("in a tragic ".concat(t," accident"))}))},un=function(){nn("".concat("/storymaker","/data/heart-warmer-adj.json")).then((function(n){var t=v(n.words).word;nn("".concat("/storymaker","/data/heart-warmer-nouns.json")).then((function(n){var e=v(n.words).word;$("".concat(v(["feeds","gives presents to"])," ").concat(t," ").concat(e))}))}))};return e},O=function(){var n=Object(o.useState)([]),t=Object(i.a)(n,2),e=t[0],a=t[1],c=Object(o.useState)(0),s=Object(i.a)(c,2),r=s[0],u=s[1],l=k();return Object(o.useEffect)((function(){console.log("INIT")}),[]),Object(o.useEffect)((function(){l&&a(b(l))}),[l]),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:e.map((function(n,t){if(t<=r)return Object(h.jsx)(d,{text:n},t)}))}),Object(h.jsx)("button",{onClick:function(){u(r+1),setTimeout((function(){window.scrollTo({top:document.body.clientHeight,behavior:"smooth"})}),100)},children:"Next"})]})},E=function(){return Object(h.jsx)("div",{className:"page",style:{backgroundImage:'url("'.concat("/storymaker",'/img/wood.jpg")')},children:Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)("div",{className:"top",children:Object(h.jsx)("img",{src:"".concat("/storymaker","/img/paper_top.png")})}),Object(h.jsxs)("div",{className:"content",style:{backgroundImage:'url("'.concat("/storymaker",'/img/paper_body.png")')},children:[Object(h.jsx)("header",{children:Object(h.jsx)("h1",{children:"Story Maker"})}),Object(h.jsx)("main",{children:Object(h.jsx)(O,{})})]})]})})};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.ad4254f5.chunk.js.map